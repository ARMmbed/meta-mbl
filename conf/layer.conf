# Copyright (c) 2018 Arm Limited and Contributors. All rights reserved.
#
# SPDX-License-Identifier: MIT

# mbed linux layer configuration file
BBPATH .= ":${LAYERDIR}"

# We have a recipes directory, add to BBFILES
BBFILES += "${LAYERDIR}/recipes*/*/*.bb ${LAYERDIR}/recipes*/*/*.bbappend"

BBFILE_COLLECTIONS += "meta-mbl"
BBFILE_PATTERN_meta-mbl := "^${LAYERDIR}/"
BBFILE_PRIORITY_meta-mbl = "14"
LAYERSERIES_COMPAT_meta-mbl = "sumo thud warrior"

# Make dependent layers compatible with warrior
LAYERSERIES_COMPAT_filesystems-layer_append = " warrior"
LAYERSERIES_COMPAT_networking-layer_append = " warrior"
LAYERSERIES_COMPAT_openembedded-layer_append = " warrior"
LAYERSERIES_COMPAT_meta-python_append = " warrior"
LAYERSERIES_COMPAT_freescale-layer_append = " warrior"
LAYERSERIES_COMPAT_fsl-arm-extra_append = " warrior"
LAYERSERIES_COMPAT_raspberrypi_append = " warrior"
LAYERSERIES_COMPAT_meta-optee_append = " warrior"

# This directory is for storing licenses which are not already included in
# openembedded-core/meta/files/common-licenses
LICENSE_PATH += "${LAYERDIR}/files/custom-licenses"

MBL_LAYER_SCRIPTS = "${LAYERDIR}/scripts"
