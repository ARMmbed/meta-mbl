# Copyright (c) 2018 Arm Limited and Contributors. All rights reserved.
#
# SPDX-License-Identifier: MIT
#
# meta-mbl-distro layer configuration file
BBPATH .= ":${LAYERDIR}"

# We have a recipes directory, add to BBFILES
BBFILES += "${LAYERDIR}/recipes*/*/*.bb ${LAYERDIR}/recipes*/*/*.bbappend"

BBFILE_COLLECTIONS += "meta-mbl-distro"
BBFILE_PATTERN_meta-mbl-distro := "^${LAYERDIR}/"
BBFILE_PRIORITY_meta-mbl-distro = "14"
LAYERSERIES_COMPAT_meta-mbl-distro = "sumo thud warrior"

# Make dependent layers compatible with warrior
LAYERSERIES_COMPAT_filesystems-layer_append = " warrior"
LAYERSERIES_COMPAT_networking-layer_append = " warrior"
LAYERSERIES_COMPAT_openembedded-layer_append = " warrior"
LAYERSERIES_COMPAT_meta-python_append = " warrior"
LAYERSERIES_COMPAT_freescale-layer_append = " warrior"
LAYERSERIES_COMPAT_fsl-arm-extra_append = " warrior"
LAYERSERIES_COMPAT_raspberrypi_append = " warrior"
LAYERSERIES_COMPAT_meta-optee_append = " warrior"
LAYERSERIES_COMPAT_fsl-bsp-release_append = " warrior"

LAYERDEPENDS_meta-mbl-distro = "meta-mbl-apps"
LAYERDEPENDS_meta-mbl-distro += "meta-freescale-mbl"
LAYERDEPENDS_meta-mbl-distro += "meta-freescale-3rdparty-mbl"
LAYERDEPENDS_meta-mbl-distro += "meta-raspberrypi-mbl"
LAYERDEPENDS_meta-mbl-distro += "meta-virtualization-mbl"
LAYERDEPENDS_meta-mbl-distro += "openembedded-core-mbl-meta"

MBL_DISTRO_LAYER_VERITY_KEYS_DIR = "${LAYERDIR}/verity_keys"
